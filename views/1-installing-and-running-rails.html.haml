- lesson = Lesson.find(1)
%article{id: lesson.basename }
  = render 'lesson_header', locals: { lesson: lesson }

  %section.exercise
    :markdown
      ## Exercise 1: Installing and running a Rails app.

    %pre.goal
      :preserve
        Given Rails is installed
        And I have created a rails app
        When I run the rails app
        And I go to http://localhost:3000
        Then I should see my Rails website

    %section.step
      :markdown
        ### Step 1: Given Rails is installed

        For Windows, download Rails installer (Ruby 1.9) from
        <a href="http://railsinstaller.org" target="_blank">http://railsinstaller.org</a> and install.
        You will be asked to enter your name and email.

        #### Check your Ruby version

        The version should be either Ruby 1.9.3 or Ruby 2.0

        `ruby -v`

        #### Check if bundler is installed

        The output of this command should include bundler:

        `gem list | grep bundler`

        #### Check if Rails 4.0 is installed

        The output of this command should be Rails 4.0.0:

        `rails -v`

        #### Read the official installation notes

        The <a href="http://www.blog.geekcampbaguio.com/2013-rails-install" title="Ruby on Rails setup development guide" target="_blank">official installation notes</a> is on the blog.


    %section.step
      :markdown
        ### Step 2: And I have created the app and am now running it

        Open Windows Powershell and run

            rails new trips-app
            cd trips-app
            rails server

    %section.step
      :markdown
        ### Final Result

            Given Rails is installed
            And I have created a rails app
            When I run the rails app
            And I go to http://localhost:3000
            Then I should see my Rails website

    %section.exercise
      :markdown
        ## Exercise 2: Closing the Rails app

    %pre.goal
      :preserve
          Given my rails app is running
          When I view the running app in the console
          And I press `Ctrl-C` then `Y` to terminate batch job.
          And I view http://localhost:3000
          Then I should no longer see my Rails website running
